<app-header></app-header>
<div class="container">
  <form #f="ngForm">
    <mat-tab-group>
      <!-- Event -->
      <mat-tab label="Informations de la réunion">
          <h1 class="big-title title-margin">Quelle rencontre ?</h1>
          <div class="center mat-card rounded-corners">
            <div class="row center">
              <div class="col-lg-6 col-md-6">
                <mat-form-field class="large">
                  <input matInput #title name="title" placeholder="Titre de la réunion" type="text" required="" class="form-control"
                    [(ngModel)]="event.reunion.title">
                </mat-form-field>
              </div>
              <div class="col-lg-6 col-md-6">
                <mat-form-field class="large">
                  <input type="text" required="" class="form-control" matInput #place name="place" placeholder="Lieu de la réunion"
                  [(ngModel)]="event.reunion.place">
                </mat-form-field>
              </div>
            </div>
            <div class="row center">
              <div class="col-lg-6 col-md-6">
                <mat-form-field class="large">
                  <input type="number" required="" class="form-control" matInput #maxParticipants name="maxParticipant"
                    placeholder="Nombre Max De Participants" [(ngModel)]="event.reunion.maxParticipant">
                </mat-form-field>
              </div>
              <div class="col-lg-6 col-md-6 large">
                <mat-slide-toggle #changeAddComment name="addComment" [(ngModel)]="event.reunion.addComment" [checked]="event.reunion.addComment">Activer/désactiver
                  les commentaires</mat-slide-toggle>
              </div>
            </div>
            <div class="row center">
              <div class="col-lg-12 col-md-12">
                <mat-form-field class="large">
                  <textarea matInput #note name="note" placeholder="Note" required="" class="form-control" rows="10"
                  [(ngModel)]="event.reunion.note"></textarea>
                </mat-form-field>
              </div>
            </div>
          </div>
        </mat-tab>
      <!-- Dates -->
      <mat-tab label="Dates">
        <h1 class="big-title title-margin">Dates</h1>
        <div class="row center mat-card rounded-corners" *ngFor="let date of event.reunion.date">
          <div class="col-lg-3 col-md-3">
            <mat-form-field class="large">
              <input class="form-control" matInput [matDatepicker]="picker" placeholder="Date" name="date{{event.reunion.date.indexOf(date)}}"
                required="" [(ngModel)]="date.date">
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
          </div>
          <div class="col-lg-3 col-md-3">
            <mat-form-field class="large">
              <input type="text" required="" class="form-control" name="hourStart{{event.reunion.date.indexOf(date)}}" matInput placeholder="Début ex: 9h"
                [(ngModel)]="date.hourStart">
            </mat-form-field>
          </div>
          <div class="col-lg-3 col-md-3">
            <mat-form-field class="large">
              <input type="text" required="" class="form-control" name="hourEnd{{event.reunion.date.indexOf(date)}}" matInput placeholder="Fin ex: 18h"
                [(ngModel)]="date.hourEnd">
            </mat-form-field>
          </div>
          <div class="col-lg-2 col-md-3 center">
            <button mat-icon-button color="primary" (click)="addDate()">
              <mat-icon aria-label="Example icon-button with a heart icon">add_circle</mat-icon>
            </button>
            <button mat-icon-button color="primary" (click)="deleteDate(date)" *ngIf="event.reunion.date.length > 1"> 
              <mat-icon aria-label="Example icon-button with a heart icon">remove_circle</mat-icon>
            </button>
          </div>
        </div>
      </mat-tab>
      <!-- Participants -->
      <mat-tab label="Participants">
        <h1 class="big-title title-margin">Participants</h1>
        <div class="row center mat-card rounded-corners" *ngFor="let participant of event.reunion.participant">
          <div class="col-lg-4 col-md-4">
            <mat-form-field class="large">
              <input type="text" required="" class="form-control" name="participantName{{participant.name}}" matInput placeholder="Prénom et nom"
                [(ngModel)]="participant.name">
            </mat-form-field>
          </div>

          <div class="col-lg-4 col-md-4">
            <mat-form-field class="large">
              <input type="text" required="" class="form-control" name="participantEmail{{participant.email}}" matInput placeholder="Adresse email"
                [(ngModel)]="participant.email">
            </mat-form-field>
          </div>

          <div class="col-lg-2 col-md-2 center">
            <button mat-icon-button color="primary" (click)="addParticipant()" *ngIf="event.reunion.participant.length < event.reunion.maxParticipant">
              <mat-icon aria-label="Example icon-button with a heart icon">add_circle</mat-icon>
            </button>
            <button mat-icon-button color="primary" (click)="deleteParticipant(participant)">
              <mat-icon aria-label="Example icon-button with a heart icon">remove_circle</mat-icon>
            </button>
          </div>
        </div>
      </mat-tab>
      <!-- Comments -->
      <mat-tab label="Commentaires">
        <h1 class="big-title title-margin">Commentaires</h1>
        <div class="row center mat-card rounded-corners" *ngFor="let comment of event.reunion.comments">
          <div class="col-lg-12 col-md-12 center">
              <textarea matInput class="large">{{comment.text}}</textarea>
          </div>
        </div>
      </mat-tab>
    </mat-tab-group>
  </form>
  <br>
  <mat-divider></mat-divider>
</div>