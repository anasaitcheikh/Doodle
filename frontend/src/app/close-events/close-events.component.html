<app-header></app-header>
<div class="container">
  <div class="row">
    <div class="col-lg-5 col-md-5">
      <mat-form-field class="large">
        <input matInput type="search" color="primary" [(ngModel)]="searchText"
        (keyup.enter)="handleSearchEnterPress($event)"
        (ngModelChange)="filterEvents()">
        <mat-icon matSuffix color="primary">search</mat-icon>
        <mat-hint>Cherchez une reunion avec son titre</mat-hint>
      </mat-form-field>
    </div>
  </div>
  <br>
  <table mat-table [dataSource]="filteredEvents" matSort class="mat-elevation-z8 large">
    <ng-container matColumnDef="title">
      <th mat-header-cell *matHeaderCellDef> Title </th>
      <td mat-cell *matCellDef="let reunion"> {{reunion.title}} </td>
    </ng-container>

    <ng-container matColumnDef="place">
      <th mat-header-cell *matHeaderCellDef> Place </th>
      <td mat-cell *matCellDef="let reunion"> {{reunion.place}} </td>
    </ng-container>

    <!--ng-container matColumnDef="adminName">
      <th mat-header-cell *matHeaderCellDef> Nom de l'admin </th>
      <td mat-cell *matCellDef="let element"> {{element.reunion.admin.name}} </td>
    </ng-container!-->

    <!--ng-container matColumnDef="adminEmail">
        <th mat-header-cell *matHeaderCellDef> Email de l'admin </th>
        <td mat-cell *matCellDef="let element"> {{element.reunion.admin.email}} </td>
      </ng-container!-->

    <ng-container matColumnDef="numberOfParticipants">
      <th mat-header-cell *matHeaderCellDef> Participants </th>
      <td mat-cell *matCellDef="let reunion"> {{reunion.participant.length}} </td>
    </ng-container>

    <ng-container matColumnDef="date">
      <th mat-header-cell *matHeaderCellDef><b> Date </b></th>
      <td mat-cell *matCellDef="let reunion"> {{reunion.date[0].date | date: 'MMM dd, yyyy'}} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns; let reunion" (click)="showEvent(reunion.admin)"></tr>
  </table>
</div>
